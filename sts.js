const a413_0x523454=a413_0x14a1;(function(_0x47c2b4,_0x312b71){const _0x238826=a413_0x14a1,_0x4c4973=_0x47c2b4();while(!![]){try{const _0x20c879=-parseInt(_0x238826(0x81))/0x1*(parseInt(_0x238826(0x9b))/0x2)+-parseInt(_0x238826(0x83))/0x3*(parseInt(_0x238826(0x94))/0x4)+-parseInt(_0x238826(0x9f))/0x5*(parseInt(_0x238826(0x80))/0x6)+-parseInt(_0x238826(0x98))/0x7+-parseInt(_0x238826(0x8c))/0x8*(parseInt(_0x238826(0x88))/0x9)+parseInt(_0x238826(0x85))/0xa*(parseInt(_0x238826(0x91))/0xb)+parseInt(_0x238826(0x8f))/0xc;if(_0x20c879===_0x312b71)break;else _0x4c4973['push'](_0x4c4973['shift']());}catch(_0x3dd9da){_0x4c4973['push'](_0x4c4973['shift']());}}}(a413_0x4f34,0x47dd2),require(a413_0x523454(0x86))['config']());const axios=require(a413_0x523454(0x82)),{PassThrough}=require(a413_0x523454(0x9e)),EventEmitter=require(a413_0x523454(0x7c)),logger=require(a413_0x523454(0x8e));function a413_0x4f34(){const _0x59c268=['axios','24ClIlFg','error','12380YgEczf','dotenv','post','45HErJFj','Streaming\x20complete','exports','Error\x20starting\x20streaming\x20to\x20external\x20asr\x20service:\x20','441704DjVNox','write','./logger','20013288xOQpRg','startStreaming','2431nfZXeY','emit','Error\x20during\x20external\x20service\x20streaming:\x20','69728IWmkIX','data','STS_URL','processAudio','4016446DYDCte','end','info','420482vQIBEs','http://localhost:6030/speech-to-speech-stream','responseStream','stream','1118695Eyjvdy','events','stopStreaming','chunked','env','12tsPFsI','1tPBojq'];a413_0x4f34=function(){return _0x59c268;};return a413_0x4f34();}function a413_0x14a1(_0xe44b7a,_0x305a2b){const _0x4f341b=a413_0x4f34();return a413_0x14a1=function(_0x14a139,_0x53ab2a){_0x14a139=_0x14a139-0x7c;let _0x2a89c5=_0x4f341b[_0x14a139];return _0x2a89c5;},a413_0x14a1(_0xe44b7a,_0x305a2b);}class Sts extends EventEmitter{constructor(){const _0x440aed=a413_0x523454;super(),this[_0x440aed(0x9e)]=null,this['responseStream']=null;}async[a413_0x523454(0x90)](){const _0x2eece2=a413_0x523454;this[_0x2eece2(0x9e)]=new PassThrough();try{const _0x55004e=await axios({'method':_0x2eece2(0x87),'url':process[_0x2eece2(0x7f)][_0x2eece2(0x96)]||_0x2eece2(0x9c),'headers':{'Content-Type':'audio/l16','Transfer-Encoding':_0x2eece2(0x7e)},'data':this[_0x2eece2(0x9e)],'responseType':_0x2eece2(0x9e)});this[_0x2eece2(0x9d)]=_0x55004e[_0x2eece2(0x95)],this[_0x2eece2(0x9d)]['on']('data',_0xda0790=>{const _0x5e238f=_0x2eece2;this[_0x5e238f(0x92)]('audio',_0xda0790);}),this[_0x2eece2(0x9d)]['on']('end',()=>{const _0x32299f=_0x2eece2;logger[_0x32299f(0x9a)](_0x32299f(0x89)),this['emit']('end');}),this[_0x2eece2(0x9d)]['on'](_0x2eece2(0x84),_0x1d339c=>{const _0x34f70b=_0x2eece2;logger[_0x34f70b(0x84)](_0x34f70b(0x93)+_0x1d339c),this['emit'](_0x34f70b(0x84),_0x1d339c);});}catch(_0x59781e){logger[_0x2eece2(0x84)](_0x2eece2(0x8b)+_0x59781e['message']),this[_0x2eece2(0x92)]('error',_0x59781e);}}async[a413_0x523454(0x97)](_0x23e833){const _0x29f4af=a413_0x523454;!this[_0x29f4af(0x9e)]?await this['startStreaming']():this[_0x29f4af(0x9e)][_0x29f4af(0x8d)](_0x23e833);}[a413_0x523454(0x7d)](){const _0x2c82a4=a413_0x523454;this['stream']&&(this[_0x2c82a4(0x9e)][_0x2c82a4(0x99)](),this[_0x2c82a4(0x9e)]=null,logger['info']('Streaming\x20stopped'));}}module[a413_0x523454(0x8a)]={'Sts':Sts};