'use strict';function a376_0x21c3(){var _0x5bb2a9=['removeListener','log','uncaughtException','string','24522ptXVJS','getTrace','finished','error','isArray','iterator','parse','getgid','exitOnError','4147eEYTqH','@dabh/diagnostics','key','getuid','length','winston:\x20exitOnError\x20cannot\x20be\x20true\x20with\x20no\x20exception\x20handlers.','\x20\x20No\x20stack\x20trace','45987TLNTZZ','_addHandler','unhandle','exports','90qFSIpA','map','object','once','handleExceptions','pid','nextTick','48ZyUZxd','isNative','getProcessInfo','488LkxxKs','handlers','_uncaughtException','defineProperty','filter','5140520ASYsvc','logger','finish','set','toString','toPrimitive','warn','22880qCWUOz','values','concat','writable','(no\x20error\x20message)','forEach','execPath','6566kFsuqj','stack-trace','default','uncaughtException:\x20','_exiting','doExit','constructor','version','prototype','has','_getExceptionHandlers','symbol','transport','enumerable','4qsFweZ','getAllInfo','catcher','1471551oSHRoE','stack','1255wcNmmc','getFileName','function','56448DLIenP','cwd','uptime'];a376_0x21c3=function(){return _0x5bb2a9;};return a376_0x21c3();}var a376_0x26c7c8=a376_0x4fcf;(function(_0x24f3de,_0x241336){var _0x3bcf93=a376_0x4fcf,_0x53ac50=_0x24f3de();while(!![]){try{var _0x1fb5aa=-parseInt(_0x3bcf93(0xf0))/0x1*(-parseInt(_0x3bcf93(0xfb))/0x2)+parseInt(_0x3bcf93(0x122))/0x3*(parseInt(_0x3bcf93(0x11f))/0x4)+parseInt(_0x3bcf93(0x124))/0x5*(parseInt(_0x3bcf93(0xe0))/0x6)+parseInt(_0x3bcf93(0x111))/0x7*(parseInt(_0x3bcf93(0xfe))/0x8)+parseInt(_0x3bcf93(0xf4))/0x9*(parseInt(_0x3bcf93(0x10a))/0xa)+-parseInt(_0x3bcf93(0x103))/0xb+parseInt(_0x3bcf93(0x127))/0xc*(-parseInt(_0x3bcf93(0xe9))/0xd);if(_0x1fb5aa===_0x241336)break;else _0x53ac50['push'](_0x53ac50['shift']());}catch(_0x20e33b){_0x53ac50['push'](_0x53ac50['shift']());}}}(a376_0x21c3,0xb2c54));function _typeof(_0x3b324c){'@babel/helpers - typeof';var _0x5ab65d=a376_0x4fcf;return _typeof=_0x5ab65d(0x126)==typeof Symbol&&_0x5ab65d(0x11c)==typeof Symbol[_0x5ab65d(0xe5)]?function(_0x1af120){return typeof _0x1af120;}:function(_0x57bc9){var _0x308f3a=_0x5ab65d;return _0x57bc9&&_0x308f3a(0x126)==typeof Symbol&&_0x57bc9[_0x308f3a(0x117)]===Symbol&&_0x57bc9!==Symbol[_0x308f3a(0x119)]?_0x308f3a(0x11c):typeof _0x57bc9;},_typeof(_0x3b324c);}function _classCallCheck(_0xbb3ba9,_0x21916a){if(!(_0xbb3ba9 instanceof _0x21916a))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}function _defineProperties(_0x229c03,_0x258ee9){var _0x5c4100=a376_0x4fcf;for(var _0x546cf4=0x0;_0x546cf4<_0x258ee9[_0x5c4100(0xed)];_0x546cf4++){var _0xd51ae0=_0x258ee9[_0x546cf4];_0xd51ae0[_0x5c4100(0x11e)]=_0xd51ae0['enumerable']||!0x1,_0xd51ae0['configurable']=!0x0,'value'in _0xd51ae0&&(_0xd51ae0[_0x5c4100(0x10d)]=!0x0),Object[_0x5c4100(0x101)](_0x229c03,_toPropertyKey(_0xd51ae0[_0x5c4100(0xeb)]),_0xd51ae0);}}function _createClass(_0x5b7ccf,_0x24c03c,_0x4dc76c){var _0x7dbea2=a376_0x4fcf;return _0x24c03c&&_defineProperties(_0x5b7ccf[_0x7dbea2(0x119)],_0x24c03c),_0x4dc76c&&_defineProperties(_0x5b7ccf,_0x4dc76c),Object['defineProperty'](_0x5b7ccf,_0x7dbea2(0x119),{'writable':!0x1}),_0x5b7ccf;}function _toPropertyKey(_0x3d94df){var _0x43ba58=a376_0x4fcf,_0x26a3f2=_toPrimitive(_0x3d94df,_0x43ba58(0xdf));return _0x43ba58(0x11c)==_typeof(_0x26a3f2)?_0x26a3f2:_0x26a3f2+'';}function _toPrimitive(_0x146bef,_0x56cba0){var _0x727a85=a376_0x4fcf;if(_0x727a85(0xf6)!=_typeof(_0x146bef)||!_0x146bef)return _0x146bef;var _0x4a294c=_0x146bef[Symbol[_0x727a85(0x108)]];if(void 0x0!==_0x4a294c){var _0x1fb25a=_0x4a294c['call'](_0x146bef,_0x56cba0||_0x727a85(0x113));if(_0x727a85(0xf6)!=_typeof(_0x1fb25a))return _0x1fb25a;throw new TypeError('@@toPrimitive\x20must\x20return\x20a\x20primitive\x20value.');}return('string'===_0x56cba0?String:Number)(_0x146bef);}function a376_0x4fcf(_0x40301a,_0x258987){var _0x21c3cf=a376_0x21c3();return a376_0x4fcf=function(_0x4fcf8f,_0x18333e){_0x4fcf8f=_0x4fcf8f-0xdf;var _0x1becf5=_0x21c3cf[_0x4fcf8f];return _0x1becf5;},a376_0x4fcf(_0x40301a,_0x258987);}var os=require('os'),asyncForEach=require('async/forEach'),debug=require(a376_0x26c7c8(0xea))('winston:exception'),once=require('one-time'),stackTrace=require(a376_0x26c7c8(0x112)),ExceptionStream=require('./exception-stream');module[a376_0x26c7c8(0xf3)]=(function(){var _0xffea39=a376_0x26c7c8;function _0xbd27f6(_0x4707a2){var _0xa123b2=a376_0x4fcf;_classCallCheck(this,_0xbd27f6);if(!_0x4707a2)throw new Error('Logger\x20is\x20required\x20to\x20handle\x20exceptions');this[_0xa123b2(0x104)]=_0x4707a2,this['handlers']=new Map();}return _createClass(_0xbd27f6,[{'key':'handle','value':function _0x4ae01e(){var _0x259af5=a376_0x4fcf,_0x452466=this;for(var _0x26084d=arguments[_0x259af5(0xed)],_0x5625fd=new Array(_0x26084d),_0x2ec00e=0x0;_0x2ec00e<_0x26084d;_0x2ec00e++){_0x5625fd[_0x2ec00e]=arguments[_0x2ec00e];}_0x5625fd[_0x259af5(0x10f)](function(_0x4415fe){var _0x2e5add=_0x259af5;if(Array[_0x2e5add(0xe4)](_0x4415fe))return _0x4415fe[_0x2e5add(0x10f)](function(_0x17db6e){var _0x58b954=_0x2e5add;return _0x452466[_0x58b954(0xf1)](_0x17db6e);});_0x452466['_addHandler'](_0x4415fe);}),!this[_0x259af5(0x121)]&&(this[_0x259af5(0x121)]=this[_0x259af5(0x100)]['bind'](this),process['on'](_0x259af5(0x12c),this[_0x259af5(0x121)]));}},{'key':_0xffea39(0xf2),'value':function _0x152726(){var _0x163e1c=_0xffea39,_0x2b68f0=this;this[_0x163e1c(0x121)]&&(process[_0x163e1c(0x12a)](_0x163e1c(0x12c),this['catcher']),this[_0x163e1c(0x121)]=![],Array['from'](this[_0x163e1c(0xff)][_0x163e1c(0x10b)]())[_0x163e1c(0x10f)](function(_0x310c7d){var _0x5c74df=_0x163e1c;return _0x2b68f0[_0x5c74df(0x104)]['unpipe'](_0x310c7d);}));}},{'key':'getAllInfo','value':function _0x199826(_0x4b7f70){var _0x548091=_0xffea39,_0x539fb0=null;return _0x4b7f70&&(_0x539fb0=typeof _0x4b7f70==='string'?_0x4b7f70:_0x4b7f70['message']),{'error':_0x4b7f70,'level':_0x548091(0xe3),'message':[_0x548091(0x114)[_0x548091(0x10c)](_0x539fb0||_0x548091(0x10e)),_0x4b7f70&&_0x4b7f70[_0x548091(0x123)]||_0x548091(0xef)]['join']('\x0a'),'stack':_0x4b7f70&&_0x4b7f70['stack'],'exception':!![],'date':new Date()[_0x548091(0x107)](),'process':this[_0x548091(0xfd)](),'os':this['getOsInfo'](),'trace':this[_0x548091(0xe1)](_0x4b7f70)};}},{'key':_0xffea39(0xfd),'value':function _0x58b92f(){var _0x1082c4=_0xffea39;return{'pid':process[_0x1082c4(0xf9)],'uid':process['getuid']?process[_0x1082c4(0xec)]():null,'gid':process['getgid']?process[_0x1082c4(0xe7)]():null,'cwd':process[_0x1082c4(0x128)](),'execPath':process[_0x1082c4(0x110)],'version':process[_0x1082c4(0x118)],'argv':process['argv'],'memoryUsage':process['memoryUsage']()};}},{'key':'getOsInfo','value':function _0x3feb58(){var _0x14139c=_0xffea39;return{'loadavg':os['loadavg'](),'uptime':os[_0x14139c(0x129)]()};}},{'key':_0xffea39(0xe1),'value':function _0x4ee051(_0x4bfcd5){var _0x54e74b=_0xffea39,_0x2a622d=_0x4bfcd5?stackTrace[_0x54e74b(0xe6)](_0x4bfcd5):stackTrace['get']();return _0x2a622d[_0x54e74b(0xf5)](function(_0x143f00){var _0x2a5fcf=_0x54e74b;return{'column':_0x143f00['getColumnNumber'](),'file':_0x143f00[_0x2a5fcf(0x125)](),'function':_0x143f00['getFunctionName'](),'line':_0x143f00['getLineNumber'](),'method':_0x143f00['getMethodName'](),'native':_0x143f00[_0x2a5fcf(0xfc)]()};});}},{'key':_0xffea39(0xf1),'value':function _0x3c0e65(_0x5ef21d){var _0x539403=_0xffea39;if(!this['handlers'][_0x539403(0x11a)](_0x5ef21d)){_0x5ef21d[_0x539403(0xf8)]=!![];var _0x26edb9=new ExceptionStream(_0x5ef21d);this[_0x539403(0xff)][_0x539403(0x106)](_0x5ef21d,_0x26edb9),this[_0x539403(0x104)]['pipe'](_0x26edb9);}}},{'key':_0xffea39(0x100),'value':function _0x3099df(_0x1a5646){var _0x303aa3=_0xffea39,_0x56ccde=this[_0x303aa3(0x120)](_0x1a5646),_0x1d645f=this[_0x303aa3(0x11b)](),_0x39dc6e=typeof this[_0x303aa3(0x104)][_0x303aa3(0xe8)]===_0x303aa3(0x126)?this['logger'][_0x303aa3(0xe8)](_0x1a5646):this[_0x303aa3(0x104)]['exitOnError'],_0x2a7ef6;!_0x1d645f['length']&&_0x39dc6e&&(console[_0x303aa3(0x109)](_0x303aa3(0xee)),console[_0x303aa3(0x109)]('winston:\x20not\x20exiting\x20process.'),_0x39dc6e=![]);function _0xc7f308(){var _0x24ba03=_0x303aa3;debug(_0x24ba03(0x116),_0x39dc6e),debug('process._exiting',process[_0x24ba03(0x115)]),_0x39dc6e&&!process['_exiting']&&(_0x2a7ef6&&clearTimeout(_0x2a7ef6),process['exit'](0x1));}if(!_0x1d645f||_0x1d645f['length']===0x0)return process[_0x303aa3(0xfa)](_0xc7f308);asyncForEach(_0x1d645f,function(_0xc9c64c,_0x2fba63){var _0x5242e8=_0x303aa3,_0x50d1d2=once(_0x2fba63),_0x6e52f7=_0xc9c64c[_0x5242e8(0x11d)]||_0xc9c64c;function _0x2702e3(_0x496519){return function(){debug(_0x496519),_0x50d1d2();};}_0x6e52f7['_ending']=!![],_0x6e52f7[_0x5242e8(0xf7)](_0x5242e8(0x105),_0x2702e3(_0x5242e8(0xe2))),_0x6e52f7[_0x5242e8(0xf7)]('error',_0x2702e3(_0x5242e8(0xe3)));},function(){return _0x39dc6e&&_0xc7f308();}),this[_0x303aa3(0x104)][_0x303aa3(0x12b)](_0x56ccde),_0x39dc6e&&(_0x2a7ef6=setTimeout(_0xc7f308,0xbb8));}},{'key':_0xffea39(0x11b),'value':function _0x34ed77(){var _0x50692a=_0xffea39;return this[_0x50692a(0x104)]['transports'][_0x50692a(0x102)](function(_0xa05929){var _0x815e8a=_0x50692a,_0x5d2042=_0xa05929[_0x815e8a(0x11d)]||_0xa05929;return _0x5d2042[_0x815e8a(0xf8)];});}}]);}());