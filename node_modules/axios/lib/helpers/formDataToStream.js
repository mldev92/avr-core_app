const a222_0x3fc8e3=a222_0x1a97;function a222_0x4185(){const _0x5d3d32=['application/octet-stream','FormData\x20instance\x20required','escapeName','entries','ALPHA_DIGIT','2194098avxRJH','constructor','encode','from','%0D','947230DZmLlR','type','5263176zIwqve','byteLength','value','contentLength','map','function','toFiniteNumber','Content-Disposition:\x20form-data;\x20name=\x22','headers','replace','multipart/form-data;\x20boundary=','2cEBgCT','1635108wzHipj','Content-Length','generateString','%22','isString','7092396VStQww','12nXMIIz','size','6058192vGFvjc','length','name','boundary\x20must\x20be\x2010-70\x20characters\x20long','Content-Type:\x20','282741uWcKiN'];a222_0x4185=function(){return _0x5d3d32;};return a222_0x4185();}(function(_0xd4df79,_0x37ff55){const _0x1d998f=a222_0x1a97,_0x36b2ba=_0xd4df79();while(!![]){try{const _0x393c61=parseInt(_0x1d998f(0x13e))/0x1*(parseInt(_0x1d998f(0x130))/0x2)+parseInt(_0x1d998f(0x131))/0x3+parseInt(_0x1d998f(0x137))/0x4*(parseInt(_0x1d998f(0x123))/0x5)+-parseInt(_0x1d998f(0x11e))/0x6+parseInt(_0x1d998f(0x139))/0x7+-parseInt(_0x1d998f(0x125))/0x8+-parseInt(_0x1d998f(0x136))/0x9;if(_0x393c61===_0x37ff55)break;else _0x36b2ba['push'](_0x36b2ba['shift']());}catch(_0x499980){_0x36b2ba['push'](_0x36b2ba['shift']());}}}(a222_0x4185,0x6dd9b));import a222_0x2a7a9a from'util';import{Readable}from'stream';import a222_0x5cb93a from'../utils.js';import a222_0x20b77b from'./readBlob.js';const BOUNDARY_ALPHABET=a222_0x5cb93a['ALPHABET'][a222_0x3fc8e3(0x11d)]+'-_',textEncoder=typeof TextEncoder===a222_0x3fc8e3(0x12a)?new TextEncoder():new a222_0x2a7a9a['TextEncoder'](),CRLF='\x0d\x0a',CRLF_BYTES=textEncoder['encode'](CRLF),CRLF_BYTES_COUNT=0x2;function a222_0x1a97(_0xd88e02,_0x2f01a7){const _0x418500=a222_0x4185();return a222_0x1a97=function(_0x1a9748,_0x4378ad){_0x1a9748=_0x1a9748-0x11b;let _0x12d8ba=_0x418500[_0x1a9748];return _0x12d8ba;},a222_0x1a97(_0xd88e02,_0x2f01a7);}class FormDataPart{constructor(_0x44938b,_0x521ee6){const _0x367f2d=a222_0x3fc8e3,{escapeName:_0x19b90a}=this[_0x367f2d(0x11f)],_0x2acdb7=a222_0x5cb93a[_0x367f2d(0x135)](_0x521ee6);let _0x31d798=_0x367f2d(0x12c)+_0x19b90a(_0x44938b)+'\x22'+(!_0x2acdb7&&_0x521ee6[_0x367f2d(0x13b)]?';\x20filename=\x22'+_0x19b90a(_0x521ee6['name'])+'\x22':'')+CRLF;_0x2acdb7?_0x521ee6=textEncoder[_0x367f2d(0x120)](String(_0x521ee6)[_0x367f2d(0x12e)](/\r?\n|\r\n?/g,CRLF)):_0x31d798+=_0x367f2d(0x13d)+(_0x521ee6[_0x367f2d(0x124)]||_0x367f2d(0x13f))+CRLF,this[_0x367f2d(0x12d)]=textEncoder[_0x367f2d(0x120)](_0x31d798+CRLF),this[_0x367f2d(0x128)]=_0x2acdb7?_0x521ee6['byteLength']:_0x521ee6[_0x367f2d(0x138)],this['size']=this['headers'][_0x367f2d(0x126)]+this[_0x367f2d(0x128)]+CRLF_BYTES_COUNT,this[_0x367f2d(0x13b)]=_0x44938b,this[_0x367f2d(0x127)]=_0x521ee6;}async*['encode'](){yield this['headers'];const {value:_0x34c8ee}=this;a222_0x5cb93a['isTypedArray'](_0x34c8ee)?yield _0x34c8ee:yield*a222_0x20b77b(_0x34c8ee),yield CRLF_BYTES;}static[a222_0x3fc8e3(0x11b)](_0x118520){const _0x2686c5=a222_0x3fc8e3;return String(_0x118520)[_0x2686c5(0x12e)](/[\r\n"]/g,_0x2b74a1=>({'\x0d':_0x2686c5(0x122),'\x0a':'%0A','\x22':_0x2686c5(0x134)}[_0x2b74a1]));}}const formDataToStream=(_0x36f859,_0x1f0499,_0x40442e)=>{const _0x26cf55=a222_0x3fc8e3,{tag:tag='form-data-boundary',size:size=0x19,boundary:boundary=tag+'-'+a222_0x5cb93a[_0x26cf55(0x133)](size,BOUNDARY_ALPHABET)}=_0x40442e||{};if(!a222_0x5cb93a['isFormData'](_0x36f859))throw TypeError(_0x26cf55(0x140));if(boundary['length']<0x1||boundary[_0x26cf55(0x13a)]>0x46)throw Error(_0x26cf55(0x13c));const _0xa129a5=textEncoder['encode']('--'+boundary+CRLF),_0x38f668=textEncoder[_0x26cf55(0x120)]('--'+boundary+'--'+CRLF+CRLF);let _0x308a1a=_0x38f668[_0x26cf55(0x126)];const _0x5d4516=Array['from'](_0x36f859[_0x26cf55(0x11c)]())[_0x26cf55(0x129)](([_0x7ec1a,_0x5bb176])=>{const _0x5e4752=new FormDataPart(_0x7ec1a,_0x5bb176);return _0x308a1a+=_0x5e4752['size'],_0x5e4752;});_0x308a1a+=_0xa129a5['byteLength']*_0x5d4516['length'],_0x308a1a=a222_0x5cb93a[_0x26cf55(0x12b)](_0x308a1a);const _0x3477e4={'Content-Type':_0x26cf55(0x12f)+boundary};return Number['isFinite'](_0x308a1a)&&(_0x3477e4[_0x26cf55(0x132)]=_0x308a1a),_0x1f0499&&_0x1f0499(_0x3477e4),Readable[_0x26cf55(0x121)]((async function*(){for(const _0x306456 of _0x5d4516){yield _0xa129a5,yield*_0x306456['encode']();}yield _0x38f668;}()));};export default formDataToStream;